{"version":3,"sources":["webpack:///webpack/bootstrap 185e6e86cc9ced0e71b9","webpack:///./app/index.js","webpack:////home/david/Proyectos/npm/basic-virtual-dom/index.js","webpack:////home/david/Proyectos/npm/basic-virtual-dom/lib/h.js","webpack:////home/david/Proyectos/npm/basic-virtual-dom/lib/diff.js","webpack:////home/david/Proyectos/npm/basic-virtual-dom/lib/patch.js","webpack:////home/david/Proyectos/npm/basic-virtual-dom/lib/component.js"],"names":["cpn","el","data","list","render","exports","h","require","diff","patch","component","PATCH_CREATE","PATCH_REMOVE","PATCH_REPLACE","PATCH_REORDER","PATCH_PROPS","H","argv","apply","slice","call","arguments","length","tag","toLowerCase","props","undefined","children","_createTextNode","Array","isArray","concat","filter","n","map","prototype","node","parent","createElement","i","appendChild","setProp","name","value","setAttribute","_stylePropToString","match","addEvent","Boolean","setProps","propNames","Object","keys","prop","rmProp","removeAttribute","removeEvent","listener","listeners","addEventListener","replace","removeEventListener","clone","String","_cloneProps","child","keepRefs","attrs","cloned","out","text","document","createTextNode","oldNode","newNode","Error","_isNodeSame","_diffTree","a","b","patches","_diffProps","push","t","with","_diffChild","from","_nodeId","item","pn","reorderMap","j","found","to","indexOf","toChange","toRemove","battrs","aattrs","aattrsLen","attr","attributes","remove","change","tree","p","_patchReorder","_patchCreate","_patchRemove","_patchReplace","_patchProps","nodeValue","insertBefore","childNodes","splice","element","removeChild","options","initialDom","id","className","getElementById","remd","diffs","getData","module"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 185e6e86cc9ced0e71b9","/** @jsx h */\nimport { component, h } from '../../../';\n\nvar cpn = new component({\n  el: 'application',\n  data: {\n    list: []\n  },\n  render: function() {\n    return (\n      <div>\n        Hello, I am a component :)\n      </div>\n    );\n  }\n});\n\n\n// WEBPACK FOOTER //\n// ./app/index.js","exports.h     = require('./lib/h').h;\nexports.diff  = require('./lib/diff').diff;\nexports.patch = require('./lib/patch').patch;\nexports.component = require('./lib/component');\n\nexports.PATCH_CREATE  = require('./lib/diff').PATCH_CREATE;\nexports.PATCH_REMOVE  = require('./lib/diff').PATCH_REMOVE;\nexports.PATCH_REPLACE = require('./lib/diff').PATCH_REPLACE;\nexports.PATCH_REORDER = require('./lib/diff').PATCH_REORDER;\nexports.PATCH_PROPS   = require('./lib/diff').PATCH_PROPS;\n\n\n\n// WEBPACK FOOTER //\n// /home/david/Proyectos/npm/basic-virtual-dom/index.js","/*\n * Element\n */\n\n/**\n * General tree\n *\n * /** @jsx h * /\n *\n * @name h\n * @function\n * @access public\n */\nvar H = function (argv) {\n  if (!(this instanceof H)) {\n    if (typeof argv === 'function') {\n      return argv.apply(argv, [].slice.call(arguments, 1, arguments.length));\n    }\n    return new H(arguments);\n  }\n\n  if (argv[0] instanceof H) {\n    return argv[0];\n  }\n\n  this.tag = argv[0].toLowerCase();\n  this.props = argv[1] || {};\n\n  if (argv[2] === null || argv[2] === undefined) {\n    return;\n  }\n\n  if (argv.length > 2) {\n    if (typeof argv[2] !== 'object' && argv.length === 3) {\n      this.children = [_createTextNode(argv[2])];\n    } else if (Array.isArray(argv[2])) {\n      this.children = argv[2];\n    } else {\n      this.children = [].concat.apply([], [].slice.call(argv, 2, argv.length))\n        .filter(function (n) {\n          return n !== null && n !== undefined && n !== false;\n        })\n        .map(function (n) {\n          if (!(n instanceof H)) {\n            return _createTextNode(n);\n          } else {\n            return n;\n          }\n        });\n    }\n  }\n};\n\n/**\n * Tree renderer\n *\n * @name render\n * @function\n * @access public\n * @param {Boolean} fasle - do not save DOM into tree\n */\nH.prototype.render = function (node, parent) {\n  node = node || this;\n\n  node.el = createElement(node.tag ? node : this, parent);\n\n  var children = node.children;\n\n  if (typeof children === 'object') {\n    for (var i = 0; i < children.length; i++) {\n      node.el.appendChild(this.render(children[i], node.el));\n    }\n  }\n\n  return node.el;\n};\n\nH.prototype.setProp = function (name, value) {\n  if (typeof this.el !== 'undefined') {\n    if (name === 'className') {\n      this.el.setAttribute('class', value);\n    } else if (name === 'style' && typeof value !== 'string') {\n      this.el.setAttribute('style', _stylePropToString(value));\n    } else if (name.match(/^on/)) {\n      this.addEvent(name, value);\n    } else if (name === 'ref') {\n      if (typeof value === 'function') {\n        value(this.el);\n      }\n    } else if (typeof value === 'boolean' || value === 'true') {\n      this.el.setAttribute(name, value);\n      this.el[name] = Boolean(value);\n    } else {\n      this.el.setAttribute(name, value);\n    }\n  }\n\n  this.props[name] = value;\n};\n\nH.prototype.setProps = function (props) {\n  var propNames = Object.keys(props);\n\n  for (var i = 0; i < propNames.length; i++) {\n    var prop = propNames[i];\n    this.setProp(prop, props[prop]);\n  }\n};\n\nH.prototype.rmProp = function (name) {\n  if (typeof this.el !== 'undefined') {\n    if (name === 'className') {\n      this.el.removeAttribute('class');\n    } else if (name.match(/^on/)) {\n      this.removeEvent(name);\n    } else if (name === 'ref') {\n      /* Nothing to do */\n    } else if (typeof value === 'boolean') {\n      this.el.removeAttribute(name);\n      delete this.el[name];\n    } else {\n      this.el.removeAttribute(name);\n    }\n  }\n\n  delete this.props[name];\n};\n\nH.prototype.addEvent = function (name, listener) {\n  name = name.slice(2).toLowerCase();\n\n  this.listeners = this.listeners || {};\n\n  if (name in this.listeners) {\n    this.removeEvent(name);\n  }\n\n  this.listeners[name] = listener;\n  this.el.addEventListener(name, listener);\n};\n\nH.prototype.removeEvent = function (name) {\n  name = name.replace(/^on/, '').toLowerCase();\n  if (name in this.listeners) {\n    this.el.removeEventListener(name, this.listeners[name]);\n    delete this.listeners[name];\n  }\n};\n\nH.prototype.clone = function () {\n  var node = {\n    tag: String(this.tag),\n    props: _cloneProps(this.props)\n  };\n\n  if (typeof this.children !== 'undefined') {\n    node.children = this.tag === 'text'\n      ? String(this.children)\n      : this.children.map(function (child) {\n        return child.tag === 'text' ? _createTextNode(child.children) : child.clone();\n      });\n  }\n\n  return H(node.tag, node.props, node.children);\n};\n\nvar _cloneProps = function (props, keepRefs) {\n  if (typeof keepRefs === 'undefined') {\n    keepRefs = true;\n  }\n\n  var attrs = Object.keys(props);\n  var i;\n  var name;\n  var cloned = {};\n\n  for (i = 0; i < attrs.length; i++) {\n    name = attrs[i];\n\n    if (typeof props[name] === 'string') {\n      cloned[name] = String(props[name]);\n    } else if (typeof props[name] === 'function' && keepRefs === true) {\n      cloned[name] = props[name];\n    } else if (typeof props[name] === 'boolean') {\n      cloned[name] = Boolean(props[name]);\n    } else if (typeof props[name] === 'object') {\n      cloned[name] = _cloneProps(props[name]);\n    }\n  }\n\n  return cloned;\n};\n\nvar _stylePropToString = function (props) {\n  var out = '';\n  var attrs = Object.keys(props);\n\n  for (var i = 0; i < attrs.length; i++) {\n    out += attrs[i].replace(/([A-Z])/g, '-$1').toLowerCase();\n    out += ':';\n    out += props[attrs[i]];\n    out += ';';\n  }\n\n  return out;\n};\n\nvar _createTextNode = function (text) {\n  return {\n    tag: 'text',\n    children: String(text)\n  };\n};\n\nvar createElement = function (node, parent) {\n  node.el = node.tag === 'text'\n    ? document.createTextNode(node.children)\n    : document.createElement(node.tag);\n\n  if (typeof node.props !== 'undefined') {\n    node.setProps(node.props);\n  }\n\n  if (typeof parent !== 'undefined') {\n    parent.appendChild(node.el);\n  }\n\n  return node.el;\n};\n\nexports.h = H;\nexports.createElement = createElement;\n\n\n\n// WEBPACK FOOTER //\n// /home/david/Proyectos/npm/basic-virtual-dom/lib/h.js","/*\n * Diff\n */\n\nvar PATCH_CREATE = 0;\nvar PATCH_REMOVE = 1;\nvar PATCH_REPLACE = 2;\nvar PATCH_REORDER = 3;\nvar PATCH_PROPS = 4;\n\n/**\n * Diff two virtual dom trees\n *\n * @name diff\n * @function\n * @access public\n * @param {Object} oldNode virtual tree to compare\n * @param {Object} newNode virtual tree to compare with\n */\nvar diff = function (oldNode, newNode) {\n  if (typeof oldNode === 'undefined' || typeof newNode === 'undefined') {\n    throw new Error('cannot diff undefined nodes');\n  }\n\n  if (!_isNodeSame(oldNode, newNode)) {\n    throw new Error('unable create diff replace for root node');\n  }\n\n  return _diffTree(oldNode, newNode, []);\n};\n\n/**\n * Tree walker function\n *\n * @name _diffTree\n * @function\n * @access private\n * @param {} a\n * @param {} b\n * @param {} patches\n */\nvar _diffTree = function (a, b, patches) {\n  _diffProps(a, b, patches);\n\n  if (b.tag === 'text') {\n    if (b.children !== a.children) {\n      patches.push({ t: PATCH_REPLACE, node: a, with: b });\n    }\n    return;\n  }\n\n  if (Array.isArray(b.children)) {\n    _diffChild(a.children, b.children, a, patches);\n  } else if (Array.isArray(a.children)) {\n    for (var i = 0; i < a.children.length; i++) {\n      patches.push({ t: PATCH_REMOVE, from: i, node: _nodeId(a), item: _nodeId(a.children[i]) });\n    }\n  }\n\n  return patches;\n};\n\n/**\n * Tree children diffings\n *\n * @name _diffChild\n * @function\n * @access private\n * @param {} a\n * @param {} b\n * @param {} pn\n * @param {} patches\n */\nvar _diffChild = function (a, b, pn, patches) {\n  var reorderMap = [];\n  var i;\n  var j;\n  var found;\n\n  for (i = 0; i < b.length; i++) {\n    found = false;\n\n    if (!a) {\n      if (!pn.children) {\n        pn.children = [];\n      }\n\n      if (b[i].tag === 'text') {\n        patches.push({ t: PATCH_CREATE, to: i, node: _nodeId(pn), item: _nodeId(b[i]) });\n      } else {\n        patches.push({ t: PATCH_CREATE, to: i, node: _nodeId(pn), item: _nodeId(b[i].clone()) });\n      }\n      continue;\n    }\n\n    for (j = 0; j < a.length; j++) {\n      if (_isNodeSame(a[j], b[i]) && reorderMap.indexOf(a[j]) === -1) {\n        if (j !== i) {\n          patches.push({ t: PATCH_REORDER, from: j, to: i, node: _nodeId(pn), item: _nodeId(a[j]) });\n        }\n        reorderMap.push(a[j]);\n\n        _diffTree(a[j], b[i], patches);\n        found = true;\n        break;\n      }\n    }\n\n    if (found === false) {\n      reorderMap.push(null);\n      patches.push({ t: PATCH_CREATE, to: i, node: _nodeId(pn), item: b[i].tag === 'text' ? _nodeId(b[i]) : _nodeId(b[i].clone()) });\n    }\n  }\n\n  if (!a) return;\n\n  for (i = 0; i < a.length; i++) {\n    if (reorderMap.indexOf(a[i]) === -1) {\n      patches.push({ t: PATCH_REMOVE, from: i, node: _nodeId(pn), item: _nodeId(a[i]) });\n    }\n  }\n};\n\n/**\n * Props diffings\n *\n * @name _diffProps\n * @function\n * @access private\n * @param {} a\n * @param {} b\n * @param {} patches\n * @param {} type\n */\nvar _diffProps = function (a, b, patches) {\n  if (!a || !b || !a.props && !b.props) {\n    return;\n  }\n\n  var toChange = [];\n  var toRemove = [];\n  var battrs = Object.keys(b.props);\n  var aattrs = Object.keys(a.props);\n  var aattrsLen = aattrs.filter(function(attr) {\n    return (attr !== 'ref' && !(attr.match(/^on/)));\n  }).length;\n  var i;\n\n  if (a.el && a.el.attributes.length !==  aattrsLen) {\n    for (i = 0; i < a.el.attributes.length; i++) {\n      var attr = a.el.attributes[i];\n      var name = attr.name;\n\n      if (name === 'class') {\n        name = 'className';\n      }\n\n      if (!(name in aattrs)) {\n        a.props[name] = attr.value;\n      }\n\n      if (attr.value !== a.props[name]) {\n        a.props[name] = attr.value;\n      }\n    }\n    aattrs = Object.keys(a.props);\n  }\n\n  for (i = 0; i < battrs.length || i < aattrs.length; i++) {\n    if (i < battrs.length) {\n      if (!(battrs[i] in a.props) || b.props[battrs[i]] !== a.props[battrs[i]]) {\n        toChange.push({ name: battrs[i], value: b.props[battrs[i]] });\n      }\n    }\n\n    if (i < aattrs.length) {\n      if (!(aattrs[i] in b.props)) {\n        toRemove.push({ name: aattrs[i] });\n      }\n    }\n  }\n\n  if (toRemove.length > 0) {\n    patches.push({ t: PATCH_PROPS, remove: toRemove, node: _nodeId(a) });\n  }\n\n  if (toChange.length > 0) {\n    patches.push({ t: PATCH_PROPS, change: toChange, node: _nodeId(a) });\n  }\n};\n\n/**\n * Node identifier\n *\n * @name _nodeId\n * @function\n * @access private\n * @param {} node\n */\nvar _nodeId = function (node) {\n  return node;\n};\n\n/**\n * Nodes comparison\n *\n * @name _isNodeSame\n * @function\n * @access private\n * @param {} a\n * @param {} b\n */\nvar _isNodeSame = function (a, b) {\n  return a.tag === b.tag;\n};\n\nexports.PATCH_CREATE = PATCH_CREATE;\nexports.PATCH_REMOVE = PATCH_REMOVE;\nexports.PATCH_REPLACE = PATCH_REPLACE;\nexports.PATCH_REORDER = PATCH_REORDER;\nexports.PATCH_PROPS = PATCH_PROPS;\nexports.diff = diff;\n\n\n\n// WEBPACK FOOTER //\n// /home/david/Proyectos/npm/basic-virtual-dom/lib/diff.js","/*\n * Patch\n */\n\nvar PATCH_CREATE  = require('./diff').PATCH_CREATE;\nvar PATCH_REMOVE  = require('./diff').PATCH_REMOVE;\nvar PATCH_REPLACE = require('./diff').PATCH_REPLACE;\nvar PATCH_REORDER = require('./diff').PATCH_REORDER;\nvar PATCH_PROPS   = require('./diff').PATCH_PROPS;\n\nvar createElement = require('./h').createElement;\n\n/**\n * Patch DOM and virtual tree\n *\n * @name patch\n * @function\n * @access public\n * @param {Object} tree Tree to patch\n * @param {Array} patches Array of patches\n */\nvar patch = function(tree, patches) {\n  var render = true;\n\n  if (typeof tree.el === 'undefined') {\n    render = false;\n  }\n\n  for (var i = 0; i < patches.length; i++) {\n    var p = patches[i];\n\n    switch(p.t) {\n      case PATCH_REORDER:\n        _patchReorder(p, render);\n        break;\n      case PATCH_CREATE:\n        _patchCreate(p, render);\n        break;\n      case PATCH_REMOVE:\n        _patchRemove(p, render);\n        break;\n      case PATCH_REPLACE:\n        _patchReplace(p, render);\n        break;\n      case PATCH_PROPS:\n        _patchProps(p, render);\n        break;\n    }\n  }\n};\n\n/**\n * Replace existen node content\n *\n * @name patchReplace\n * @function\n * @access private\n */\nvar _patchReplace = function(p, render) {\n  p.node.children = String(p.with.children);\n\n  if (render === true) {\n    p.node.el.nodeValue = String(p.with.children);\n  }\n};\n\n/**\n * Reorder existen node\n *\n * @name patchReorder\n * @function\n * @access private\n */\nvar _patchReorder = function(p, render) {\n  if (render === true) {\n    p.node.el.insertBefore(p.item.el, p.node.el.childNodes[p.to]);\n  }\n\n  p.node.children.splice(p.to, 0,\n    p.node.children.splice(p.node.children.indexOf(p.item), 1)[0]);\n};\n\n/**\n * Create new tree node\n *\n * @name patchCreate\n * @function\n * @access private\n */\nvar _patchCreate = function(p, render) {\n  var element;\n\n  if (render === true) {\n    element = p.item.tag === 'text' ?\n      createElement(p.item) : p.item.render();\n  }\n\n  if (p.node.children.length - 1 < p.to) {\n    p.node.children.push(p.item);\n\n    if (render === true) {\n      p.node.el.appendChild(element);\n    }\n  } else {\n    p.node.children.splice(p.to, 0, p.item);\n\n    if (render === true) {\n      p.node.el.insertBefore(element, p.node.el.childNodes[p.to]);\n    }\n  }\n};\n\n/**\n * Remove tree node\n *\n * @name patchRemove\n * @function\n * @access private\n */\nvar _patchRemove = function(p, render) {\n  if (render === true) {\n    p.node.el.removeChild(p.item.el);\n  }\n\n  for (var i = 0; i < p.node.children.length; i++) {\n    if (p.node.children[i] === p.item) {\n      p.node.children.splice(i, 1);\n    }\n  }\n};\n\n/**\n * Replace props\n *\n * @name _patchProps\n * @function\n * @access private\n */\nvar _patchProps = function(p) {\n  var i;\n\n  if ('remove' in p) {\n    for (i = 0; i < p.remove.length; i++) {\n      p.node.rmProp(p.remove[i].name);\n    }\n    return;\n  }\n\n  if ('change' in p) {\n    for (i = 0; i < p.change.length; i++) {\n      p.node.setProp(p.change[i].name, p.change[i].value);\n    }\n    return;\n  }\n};\n\nexports.patch = patch;\n\n\n\n// WEBPACK FOOTER //\n// /home/david/Proyectos/npm/basic-virtual-dom/lib/patch.js","/** @jsx h */\nvar h = require('./h').h;\nvar diff = require('./diff').diff;\nvar patch = require('./patch').patch;\n\nvar component = function (options) {\n  this.data = {};\n  this.element = undefined;\n\n  var initialDom = h(\n    'div', {\n      id: 'application',\n      className: 'main-app'\n    }\n  );\n\n  if (typeof options === 'object') {\n    if ('data' in options) {\n      this.data = options['data'];\n    }\n    if ('el' in options) {\n      // TODO: Capture element by class, id....\n      this.element = options['el'];\n      document.getElementById(this.element)\n        .appendChild(initialDom.render());\n\n    }\n    if ('render' in options) {\n      var remd = options.render();\n      var diffs = diff(initialDom, remd);\n      patch(initialDom, diffs);\n    }\n  }\n\n  this.getData = function () {\n    return this.data;\n  };\n};\n\nmodule.exports = component;\n\n\n// WEBPACK FOOTER //\n// /home/david/Proyectos/npm/basic-virtual-dom/lib/component.js"],"sourceRoot":""}