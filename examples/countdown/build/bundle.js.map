{"version":3,"sources":["webpack:///webpack/bootstrap d6beaa4f87f6db48a5d6","webpack:///./app/index.js","webpack:///./app/index.html","webpack:////home/david/Proyectos/npm/basic-virtual-dom/index.js","webpack:////home/david/Proyectos/npm/basic-virtual-dom/lib/h.js","webpack:////home/david/Proyectos/npm/basic-virtual-dom/lib/diff.js","webpack:////home/david/Proyectos/npm/basic-virtual-dom/lib/patch.js"],"names":["date","Date","month","getMonth","day","getDate","weekDay","getDay","hours","start","getFullYear","end","setHours","countDown","countHours","getHours","substr","countMinutes","getMinutes","countSeconds","getSeconds","h","m","s","initialDom","document","getElementById","appendChild","render","setInterval","cd","countDownDom","diffs","exports","require","diff","patch","PATCH_CREATE","PATCH_REMOVE","PATCH_REPLACE","PATCH_REORDER","PATCH_PROPS","H","argv","apply","slice","call","arguments","length","tag","toLowerCase","props","undefined","children","_createTextNode","Array","isArray","concat","filter","n","map","prototype","node","parent","el","createElement","i","setProp","name","value","setAttribute","_stylePropToString","match","addEvent","Boolean","setProps","propNames","Object","keys","prop","rmProp","removeAttribute","removeEvent","listener","listeners","addEventListener","replace","removeEventListener","clone","String","_cloneProps","child","keepRefs","attrs","cloned","out","text","createTextNode","oldNode","newNode","Error","_isNodeSame","_diffTree","a","b","patches","_diffProps","push","t","with","_diffChild","from","_nodeId","item","pn","reorderMap","j","found","to","indexOf","toChange","toRemove","battrs","aattrs","aattrsLen","attr","attributes","remove","change","tree","p","_patchReorder","_patchCreate","_patchRemove","_patchReplace","_patchProps","nodeValue","insertBefore","childNodes","splice","element","removeChild"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d6beaa4f87f6db48a5d6","import './index.html';\n\n/* coundown gist from https://gist.github.com/loremipson/8834955 */\n var date    = new Date(),\n      month   = date.getMonth(),\n      day     = date.getDate(),\n      weekDay = date.getDay();\n\nvar hours   = {\n  start: new Date(date.getFullYear(), month, day),\n  end: new Date(date.getFullYear(), month, day)\n};\n\n// weekDay var [0 = sun, 1 = mon, 2 = tues ... 5 = fri 6 = sat]\n\n// If it's Monday - Friday\nif(weekDay >= 1 && weekDay <= 5){\n\n  // Start at 7am, end at 8pm\n  hours.start.setHours(7);\n  hours.end.setHours(20);\n\n// If it's Saturday\n} else if(weekDay == 6){\n\n  // Start at 8am, end at 8pm\n  hours.start.setHours(8);\n  hours.end.setHours(20);\n\n// If it's Sunday\n} else {\n\n  // Start at 9am, end at 6pm\n  hours.start.setHours(9);\n  hours.end.setHours(18);\n}\n\nfunction countDown(){\n  var date         = new Date(),\n      countHours   = ('0' + (hours.end.getHours() - date.getHours())).substr(-2),\n      countMinutes = ('0' + (59 - date.getMinutes())).substr(-2),\n      countSeconds = ('0' + (59 - date.getSeconds())).substr(-2);\n\n  return { h : countHours, m : countMinutes, s : countSeconds };\n}\n\n\n/** @jsx h */\n\nimport {h, patch, diff} from '../../../';\n\nvar initialDom = (\n  <div>\n    <div><h3>Counter</h3></div>\n  </div>\n);\n\ndocument.getElementById('application')\n  .appendChild(initialDom.render());\n\nsetInterval(function() {\n  var cd = countDown();\n  var countDownDom = (\n    <div>\n      <div><h3>Day Countdown</h3></div>\n      <div className=\"clock\">\n        <strong>{cd.h}</strong> :&nbsp;\n        <strong>{cd.m}</strong> :&nbsp;\n        <strong>{cd.s}</strong>\n      </div>\n    </div>\n  );\n\n  var diffs = diff(initialDom, countDownDom);\n  patch(initialDom, diffs);\n\n}, 1000);\n\n\n// WEBPACK FOOTER //\n// ./app/index.js","module.exports = __webpack_public_path__ + \"index.html\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./app/index.html\n// module id = 1\n// module chunks = 0","exports.h     = require('./lib/h').h;\nexports.diff  = require('./lib/diff').diff;\nexports.patch = require('./lib/patch').patch;\n\nexports.PATCH_CREATE  = require('./lib/diff').PATCH_CREATE;\nexports.PATCH_REMOVE  = require('./lib/diff').PATCH_REMOVE;\nexports.PATCH_REPLACE = require('./lib/diff').PATCH_REPLACE;\nexports.PATCH_REORDER = require('./lib/diff').PATCH_REORDER;\nexports.PATCH_PROPS   = require('./lib/diff').PATCH_PROPS;\n\n\n\n// WEBPACK FOOTER //\n// /home/david/Proyectos/npm/basic-virtual-dom/index.js","/*\n * Element\n */\n\n/**\n * General tree\n *\n * /** @jsx h * /\n *\n * @name h\n * @function\n * @access public\n */\nvar H = function (argv) {\n  if (!(this instanceof H)) {\n    if (typeof argv === 'function') {\n      return argv.apply(argv, [].slice.call(arguments, 1, arguments.length));\n    }\n    return new H(arguments);\n  }\n\n  if (argv[0] instanceof H) {\n    return argv[0];\n  }\n\n  this.tag = argv[0].toLowerCase();\n  this.props = argv[1] || {};\n\n  if (argv[2] === null || argv[2] === undefined) {\n    return;\n  }\n\n  if (argv.length > 2) {\n    if (typeof argv[2] !== 'object' && argv.length === 3) {\n      this.children = [_createTextNode(argv[2])];\n    } else if (Array.isArray(argv[2])) {\n      this.children = argv[2];\n    } else {\n      this.children = [].concat.apply([], [].slice.call(argv, 2, argv.length))\n        .filter(function (n) {\n          return n !== null && n !== undefined && n !== false;\n        })\n        .map(function (n) {\n          if (!(n instanceof H)) {\n            return _createTextNode(n);\n          } else {\n            return n;\n          }\n        });\n    }\n  }\n};\n\n/**\n * Tree renderer\n *\n * @name render\n * @function\n * @access public\n * @param {Boolean} fasle - do not save DOM into tree\n */\nH.prototype.render = function (node, parent) {\n  node = node || this;\n\n  node.el = createElement(node.tag ? node : this, parent);\n\n  var children = node.children;\n\n  if (typeof children === 'object') {\n    for (var i = 0; i < children.length; i++) {\n      node.el.appendChild(this.render(children[i], node.el));\n    }\n  }\n\n  return node.el;\n};\n\nH.prototype.setProp = function (name, value) {\n  if (typeof this.el !== 'undefined') {\n    if (name === 'className') {\n      this.el.setAttribute('class', value);\n    } else if (name === 'style' && typeof value !== 'string') {\n      this.el.setAttribute('style', _stylePropToString(value));\n    } else if (name.match(/^on/)) {\n      this.addEvent(name, value);\n    } else if (name === 'ref') {\n      if (typeof value === 'function') {\n        value(this.el);\n      }\n    } else if (typeof value === 'boolean' || value === 'true') {\n      this.el.setAttribute(name, value);\n      this.el[name] = Boolean(value);\n    } else {\n      this.el.setAttribute(name, value);\n    }\n  }\n\n  this.props[name] = value;\n};\n\nH.prototype.setProps = function (props) {\n  var propNames = Object.keys(props);\n\n  for (var i = 0; i < propNames.length; i++) {\n    var prop = propNames[i];\n    this.setProp(prop, props[prop]);\n  }\n};\n\nH.prototype.rmProp = function (name) {\n  if (typeof this.el !== 'undefined') {\n    if (name === 'className') {\n      this.el.removeAttribute('class');\n    } else if (name.match(/^on/)) {\n      this.removeEvent(name);\n    } else if (name === 'ref') {\n      /* Nothing to do */\n    } else if (typeof value === 'boolean') {\n      this.el.removeAttribute(name);\n      delete this.el[name];\n    } else {\n      this.el.removeAttribute(name);\n    }\n  }\n\n  delete this.props[name];\n};\n\nH.prototype.addEvent = function (name, listener) {\n  name = name.slice(2).toLowerCase();\n\n  this.listeners = this.listeners || {};\n\n  if (name in this.listeners) {\n    this.removeEvent(name);\n  }\n\n  this.listeners[name] = listener;\n  this.el.addEventListener(name, listener);\n};\n\nH.prototype.removeEvent = function (name) {\n  name = name.replace(/^on/, '').toLowerCase();\n  if (name in this.listeners) {\n    this.el.removeEventListener(name, this.listeners[name]);\n    delete this.listeners[name];\n  }\n};\n\nH.prototype.clone = function () {\n  var node = {\n    tag: String(this.tag),\n    props: _cloneProps(this.props)\n  };\n\n  if (typeof this.children !== 'undefined') {\n    node.children = this.tag === 'text'\n      ? String(this.children)\n      : this.children.map(function (child) {\n        return child.tag === 'text' ? _createTextNode(child.children) : child.clone();\n      });\n  }\n\n  return H(node.tag, node.props, node.children);\n};\n\nvar _cloneProps = function (props, keepRefs) {\n  if (typeof keepRefs === 'undefined') {\n    keepRefs = true;\n  }\n\n  var attrs = Object.keys(props);\n  var i;\n  var name;\n  var cloned = {};\n\n  for (i = 0; i < attrs.length; i++) {\n    name = attrs[i];\n\n    if (typeof props[name] === 'string') {\n      cloned[name] = String(props[name]);\n    } else if (typeof props[name] === 'function' && keepRefs === true) {\n      cloned[name] = props[name];\n    } else if (typeof props[name] === 'boolean') {\n      cloned[name] = Boolean(props[name]);\n    } else if (typeof props[name] === 'object') {\n      cloned[name] = _cloneProps(props[name]);\n    }\n  }\n\n  return cloned;\n};\n\nvar _stylePropToString = function (props) {\n  var out = '';\n  var attrs = Object.keys(props);\n\n  for (var i = 0; i < attrs.length; i++) {\n    out += attrs[i].replace(/([A-Z])/g, '-$1').toLowerCase();\n    out += ':';\n    out += props[attrs[i]];\n    out += ';';\n  }\n\n  return out;\n};\n\nvar _createTextNode = function (text) {\n  return {\n    tag: 'text',\n    children: String(text)\n  };\n};\n\nvar createElement = function (node, parent) {\n  node.el = node.tag === 'text'\n    ? document.createTextNode(node.children)\n    : document.createElement(node.tag);\n\n  if (typeof node.props !== 'undefined') {\n    node.setProps(node.props);\n  }\n\n  if (typeof parent !== 'undefined') {\n    parent.appendChild(node.el);\n  }\n\n  return node.el;\n};\n\nexports.h = H;\nexports.createElement = createElement;\n\n\n\n// WEBPACK FOOTER //\n// /home/david/Proyectos/npm/basic-virtual-dom/lib/h.js","/*\n * Diff\n */\n\nvar PATCH_CREATE = 0;\nvar PATCH_REMOVE = 1;\nvar PATCH_REPLACE = 2;\nvar PATCH_REORDER = 3;\nvar PATCH_PROPS = 4;\n\n/**\n * Diff two virtual dom trees\n *\n * @name diff\n * @function\n * @access public\n * @param {Object} oldNode virtual tree to compare\n * @param {Object} newNode virtual tree to compare with\n */\nvar diff = function (oldNode, newNode) {\n  if (typeof oldNode === 'undefined' || typeof newNode === 'undefined') {\n    throw new Error('cannot diff undefined nodes');\n  }\n\n  if (!_isNodeSame(oldNode, newNode)) {\n    throw new Error('unable create diff replace for root node');\n  }\n\n  return _diffTree(oldNode, newNode, []);\n};\n\n/**\n * Tree walker function\n *\n * @name _diffTree\n * @function\n * @access private\n * @param {} a\n * @param {} b\n * @param {} patches\n */\nvar _diffTree = function (a, b, patches) {\n  _diffProps(a, b, patches);\n\n  if (b.tag === 'text') {\n    if (b.children !== a.children) {\n      patches.push({ t: PATCH_REPLACE, node: a, with: b });\n    }\n    return;\n  }\n\n  if (Array.isArray(b.children)) {\n    _diffChild(a.children, b.children, a, patches);\n  } else if (Array.isArray(a.children)) {\n    for (var i = 0; i < a.children.length; i++) {\n      patches.push({ t: PATCH_REMOVE, from: i, node: _nodeId(a), item: _nodeId(a.children[i]) });\n    }\n  }\n\n  return patches;\n};\n\n/**\n * Tree children diffings\n *\n * @name _diffChild\n * @function\n * @access private\n * @param {} a\n * @param {} b\n * @param {} pn\n * @param {} patches\n */\nvar _diffChild = function (a, b, pn, patches) {\n  var reorderMap = [];\n  var i;\n  var j;\n  var found;\n\n  for (i = 0; i < b.length; i++) {\n    found = false;\n\n    if (!a) {\n      if (!pn.children) {\n        pn.children = [];\n      }\n\n      if (b[i].tag === 'text') {\n        patches.push({ t: PATCH_CREATE, to: i, node: _nodeId(pn), item: _nodeId(b[i]) });\n      } else {\n        patches.push({ t: PATCH_CREATE, to: i, node: _nodeId(pn), item: _nodeId(b[i].clone()) });\n      }\n      continue;\n    }\n\n    for (j = 0; j < a.length; j++) {\n      if (_isNodeSame(a[j], b[i]) && reorderMap.indexOf(a[j]) === -1) {\n        if (j !== i) {\n          patches.push({ t: PATCH_REORDER, from: j, to: i, node: _nodeId(pn), item: _nodeId(a[j]) });\n        }\n        reorderMap.push(a[j]);\n\n        _diffTree(a[j], b[i], patches);\n        found = true;\n        break;\n      }\n    }\n\n    if (found === false) {\n      reorderMap.push(null);\n      patches.push({ t: PATCH_CREATE, to: i, node: _nodeId(pn), item: b[i].tag === 'text' ? _nodeId(b[i]) : _nodeId(b[i].clone()) });\n    }\n  }\n\n  if (!a) return;\n\n  for (i = 0; i < a.length; i++) {\n    if (reorderMap.indexOf(a[i]) === -1) {\n      patches.push({ t: PATCH_REMOVE, from: i, node: _nodeId(pn), item: _nodeId(a[i]) });\n    }\n  }\n};\n\n/**\n * Props diffings\n *\n * @name _diffProps\n * @function\n * @access private\n * @param {} a\n * @param {} b\n * @param {} patches\n * @param {} type\n */\nvar _diffProps = function (a, b, patches) {\n  if (!a || !b || !a.props && !b.props) {\n    return;\n  }\n\n  var toChange = [];\n  var toRemove = [];\n  var battrs = Object.keys(b.props);\n  var aattrs = Object.keys(a.props);\n  var aattrsLen = aattrs.filter(function(attr) {\n    return (attr !== 'ref' && !(attr.match(/^on/)));\n  }).length;\n  var i;\n\n  if (a.el && a.el.attributes.length !==  aattrsLen) {\n    for (i = 0; i < a.el.attributes.length; i++) {\n      var attr = a.el.attributes[i];\n      var name = attr.name;\n\n      if (name === 'class') {\n        name = 'className';\n      }\n\n      if (!(name in aattrs)) {\n        a.props[name] = attr.value;\n      }\n\n      if (attr.value !== a.props[name]) {\n        a.props[name] = attr.value;\n      }\n    }\n    aattrs = Object.keys(a.props);\n  }\n\n  for (i = 0; i < battrs.length || i < aattrs.length; i++) {\n    if (i < battrs.length) {\n      if (!(battrs[i] in a.props) || b.props[battrs[i]] !== a.props[battrs[i]]) {\n        toChange.push({ name: battrs[i], value: b.props[battrs[i]] });\n      }\n    }\n\n    if (i < aattrs.length) {\n      if (!(aattrs[i] in b.props)) {\n        toRemove.push({ name: aattrs[i] });\n      }\n    }\n  }\n\n  if (toRemove.length > 0) {\n    patches.push({ t: PATCH_PROPS, remove: toRemove, node: _nodeId(a) });\n  }\n\n  if (toChange.length > 0) {\n    patches.push({ t: PATCH_PROPS, change: toChange, node: _nodeId(a) });\n  }\n};\n\n/**\n * Node identifier\n *\n * @name _nodeId\n * @function\n * @access private\n * @param {} node\n */\nvar _nodeId = function (node) {\n  return node;\n};\n\n/**\n * Nodes comparison\n *\n * @name _isNodeSame\n * @function\n * @access private\n * @param {} a\n * @param {} b\n */\nvar _isNodeSame = function (a, b) {\n  return a.tag === b.tag;\n};\n\nexports.PATCH_CREATE = PATCH_CREATE;\nexports.PATCH_REMOVE = PATCH_REMOVE;\nexports.PATCH_REPLACE = PATCH_REPLACE;\nexports.PATCH_REORDER = PATCH_REORDER;\nexports.PATCH_PROPS = PATCH_PROPS;\nexports.diff = diff;\n\n\n\n// WEBPACK FOOTER //\n// /home/david/Proyectos/npm/basic-virtual-dom/lib/diff.js","/*\n * Patch\n */\n\nvar PATCH_CREATE  = require('./diff').PATCH_CREATE;\nvar PATCH_REMOVE  = require('./diff').PATCH_REMOVE;\nvar PATCH_REPLACE = require('./diff').PATCH_REPLACE;\nvar PATCH_REORDER = require('./diff').PATCH_REORDER;\nvar PATCH_PROPS   = require('./diff').PATCH_PROPS;\n\nvar createElement = require('./h').createElement;\n\n/**\n * Patch DOM and virtual tree\n *\n * @name patch\n * @function\n * @access public\n * @param {Object} tree Tree to patch\n * @param {Array} patches Array of patches\n */\nvar patch = function(tree, patches) {\n  var render = true;\n\n  if (typeof tree.el === 'undefined') {\n    render = false;\n  }\n\n  for (var i = 0; i < patches.length; i++) {\n    var p = patches[i];\n\n    switch(p.t) {\n      case PATCH_REORDER:\n        _patchReorder(p, render);\n        break;\n      case PATCH_CREATE:\n        _patchCreate(p, render);\n        break;\n      case PATCH_REMOVE:\n        _patchRemove(p, render);\n        break;\n      case PATCH_REPLACE:\n        _patchReplace(p, render);\n        break;\n      case PATCH_PROPS:\n        _patchProps(p, render);\n        break;\n    }\n  }\n};\n\n/**\n * Replace existen node content\n *\n * @name patchReplace\n * @function\n * @access private\n */\nvar _patchReplace = function(p, render) {\n  p.node.children = String(p.with.children);\n\n  if (render === true) {\n    p.node.el.nodeValue = String(p.with.children);\n  }\n};\n\n/**\n * Reorder existen node\n *\n * @name patchReorder\n * @function\n * @access private\n */\nvar _patchReorder = function(p, render) {\n  if (render === true) {\n    p.node.el.insertBefore(p.item.el, p.node.el.childNodes[p.to]);\n  }\n\n  p.node.children.splice(p.to, 0,\n    p.node.children.splice(p.node.children.indexOf(p.item), 1)[0]);\n};\n\n/**\n * Create new tree node\n *\n * @name patchCreate\n * @function\n * @access private\n */\nvar _patchCreate = function(p, render) {\n  var element;\n\n  if (render === true) {\n    element = p.item.tag === 'text' ?\n      createElement(p.item) : p.item.render();\n  }\n\n  if (p.node.children.length - 1 < p.to) {\n    p.node.children.push(p.item);\n\n    if (render === true) {\n      p.node.el.appendChild(element);\n    }\n  } else {\n    p.node.children.splice(p.to, 0, p.item);\n\n    if (render === true) {\n      p.node.el.insertBefore(element, p.node.el.childNodes[p.to]);\n    }\n  }\n};\n\n/**\n * Remove tree node\n *\n * @name patchRemove\n * @function\n * @access private\n */\nvar _patchRemove = function(p, render) {\n  if (render === true) {\n    p.node.el.removeChild(p.item.el);\n  }\n\n  for (var i = 0; i < p.node.children.length; i++) {\n    if (p.node.children[i] === p.item) {\n      p.node.children.splice(i, 1);\n    }\n  }\n};\n\n/**\n * Replace props\n *\n * @name _patchProps\n * @function\n * @access private\n */\nvar _patchProps = function(p) {\n  var i;\n\n  if ('remove' in p) {\n    for (i = 0; i < p.remove.length; i++) {\n      p.node.rmProp(p.remove[i].name);\n    }\n    return;\n  }\n\n  if ('change' in p) {\n    for (i = 0; i < p.change.length; i++) {\n      p.node.setProp(p.change[i].name, p.change[i].value);\n    }\n    return;\n  }\n};\n\nexports.patch = patch;\n\n\n\n// WEBPACK FOOTER //\n// /home/david/Proyectos/npm/basic-virtual-dom/lib/patch.js"],"sourceRoot":""}